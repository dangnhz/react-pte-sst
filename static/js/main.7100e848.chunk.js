(this["webpackJsonpreact-pte-sst"]=this["webpackJsonpreact-pte-sst"]||[]).push([[0],{43:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(25),r=n.n(a),i=(n(43),n(26)),o=n(6),l=n(16),u=n.n(l),d=n(38),j=(n(64),n(65),n(3)),b=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(0),r=Object(o.a)(a,2),l=r[0],b=r[1],h=n[l],p=Object(s.useState)(""),O=Object(o.a)(p,2),m=O[0],f=O[1],x=Object(s.useState)(""),v=Object(o.a)(x,2),g=v[0],y=v[1],N=Object(s.useState)(!1),w=Object(o.a)(N,2),F=w[0],S=w[1],k=Object(s.useState)(0),_=Object(o.a)(k,2),C=_[0],q=_[1],D=Object(s.useState)(0),E=Object(o.a)(D,2),I=E[0],T=E[1],W=Object(s.useState)(1299),L=Object(o.a)(W,2),P=L[0],M=L[1],R=Object(s.useState)(void 0),Y=Object(o.a)(R,2),A=Y[0],B=Y[1],H=Object(s.useState)(!1),J=Object(o.a)(H,2),z=J[0],G=J[1],K=Object(s.useState)(null),U=Object(o.a)(K,2),Q=U[0],V=U[1],X=Object(s.useRef)(null);Object(s.useEffect)((function(){u.a.get("/react-pte-sst/data/sst-data.json").then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){var e=localStorage.getItem("active_question_index");e&&b(parseInt(e))}),[]);Object(s.useEffect)((function(){V(null),f(""),y(""),S(!1),localStorage.setItem("active_question_index",l)}),[l]),Object(s.useEffect)((function(){setTimeout((function(){var e=document.querySelector("body"),t=document.querySelectorAll("button");e.addEventListener("click",(function(){return G(!0)})),t.forEach((function(e){e.addEventListener("click",(function(){return G(!0)}))}))}),1e3)}),[]);var Z=Object(s.useRef)(),$=Object(s.useRef)();Object(s.useEffect)((function(){if(z){clearTimeout(Z.current),clearInterval($.current),B(6),$.current=setInterval((function(){B((function(e){return e-1}))}),1e3);try{Z.current=setTimeout((function(){X.current.audio.current.play(),clearInterval($.current)}),6e3)}catch(e){console.log(e)}}}),[l]);return Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("h1",{className:"app-title",children:"PTE Summarize Spoken Text"}),(null===n||void 0===n?void 0:n.length)>0&&Object(j.jsxs)("div",{id:"pagination",className:"pagination",children:[Object(j.jsxs)("div",{className:"pagination-top",children:[Object(j.jsx)("button",{className:"btn-prev",disabled:0===l,onClick:function(){return l>0&&b((function(e){return e-1}))},children:"Previous"}),Object(j.jsx)("span",{className:"active-question-number",children:l+1}),Object(j.jsx)("button",{className:"btn-next",disabled:l===n.length-1,onClick:function(){return l<n.length&&b((function(e){return e+1}))},children:"Next"})]}),Object(j.jsx)("div",{className:"pagination-bottom",children:n.map((function(e,t){return Object(j.jsx)("button",{className:l===t?"active":"",onClick:function(){return b(t)},children:t+1},t)}))})]})]}),Object(j.jsx)("div",{className:"main-content",children:n.length>0&&Object(j.jsxs)("div",{className:"question",children:[Object(j.jsx)("div",{className:"description",children:"You will hear a short lecture. Write a summary for a fellow student who was not present at the lecture. You should write 50 - 70 words. You have 10 minutes to finish this task. Your response will be judged on the quality of your writing and on how well your response presents the key points presented in the lecture."}),Object(j.jsx)("div",{className:"audio-player",children:Object(j.jsx)(d.a,{ref:X,autoPlay:!1,autoPlayAfterSrcChange:!1,volume:!0,src:h.audio})}),Object(j.jsxs)("div",{className:"count-down ".concat(0===A?"hidden":""),children:[" ","The audio will play after ",Object(j.jsx)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:A||"x"})," seconds"]}),Object(j.jsx)("textarea",{placeholder:"Enter text...",className:"text-note",value:m,onChange:function(e){var t=e.target.value,n=t.match(/\S+/g),s=n?n.length:0;q(s),T(t.length),f(t)}}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"word-user-input",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{style:{marginRight:"3rem"},children:["Words: ",Object(j.jsx)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:C})]}),Object(j.jsxs)("span",{children:["Chars: ",Object(j.jsx)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:I})]})]}),Object(j.jsxs)("div",{className:"user-id-input",children:[Object(j.jsx)("label",{htmlFor:"user-id",children:"User ID: "}),Object(j.jsx)("input",{id:"user-id",type:"text",value:P,onChange:function(e){return M(e.target.value)}})]})]}),Object(j.jsx)("button",{className:"btn-check-keywords",onClick:function(){var e,t=n[l].keywords.split(" "),s=m.split(" ").map((function(e){return e.replace(/[^\w\s]/gi,"").toLowerCase()})),c=[],a=Object(i.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;r=s.includes(r)?'<span class="matched-keyword green">'.concat(r,"</span>"):'<span class="unmatched-keyword red">'.concat(r,"</span>"),c.push(r)}}catch(d){a.e(d)}finally{a.f()}y(c.join(" ")),S(!0);var o=new FormData;o.append("question_id",h.id),o.append("question_cat",17),o.append("word_count",C),o.append("user_string",m),o.append("user_id",P),u.a.post("https://api.masterpte.com.au/api/webservices/practice_result_listening",o).then((function(e){return V(e.data.result)})).catch((function(e){return console.log(e)}))},disabled:""===m,children:"Submit"}),Q&&Object(j.jsxs)("div",{className:"results",children:[Object(j.jsxs)("span",{children:["Content: ",Object(j.jsxs)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.context).toFixed(2)," / 2"]})]}),Object(j.jsxs)("span",{children:["Grammar: ",Object(j.jsxs)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.grammar).toFixed(2)," / 2"]})]}),Object(j.jsxs)("span",{children:["Spelling: ",Object(j.jsxs)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.spelling).toFixed(2)," / 2"]})]}),Object(j.jsxs)("span",{children:["Form: ",Object(j.jsxs)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.form).toFixed(2)," / 2"]})]}),Object(j.jsxs)("span",{children:["Marks: ",Object(j.jsxs)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.marks).toFixed(2)," / 90"]})]})]}),F&&Object(j.jsxs)("div",{className:"question-box",children:[Object(j.jsx)("div",{className:"question-transcripts ".concat(F?"keywords-showed":""),dangerouslySetInnerHTML:{__html:h.description}}),Object(j.jsxs)("div",{className:"question-keywords",children:[Object(j.jsx)("b",{children:"Keywords:"})," ",Object(j.jsx)("div",{className:"keywords-list",dangerouslySetInnerHTML:{__html:g}})]})]})]})})]})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),h()}},[[67,1,2]]]);
//# sourceMappingURL=main.7100e848.chunk.js.map