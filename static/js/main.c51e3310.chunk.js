(this["webpackJsonpreact-pte-sst"]=this["webpackJsonpreact-pte-sst"]||[]).push([[0],{43:function(e,t,s){},65:function(e,t,s){},67:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(25),r=s.n(a),i=(s(43),s(26)),o=s(6),l=s(16),u=s.n(l),d=s(38),j=(s(64),s(65),s(3)),b=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(0),r=Object(o.a)(a,2),l=r[0],b=r[1],h=s[l],m=Object(n.useState)(""),p=Object(o.a)(m,2),O=p[0],x=p[1],f=Object(n.useState)(""),v=Object(o.a)(f,2),N=v[0],g=v[1],y=Object(n.useState)(!1),w=Object(o.a)(y,2),S=w[0],F=w[1],k=Object(n.useState)(0),_=Object(o.a)(k,2),C=_[0],q=_[1],D=Object(n.useState)(0),E=Object(o.a)(D,2),I=E[0],T=E[1],W=Object(n.useState)(1299),A=Object(o.a)(W,2),L=A[0],P=A[1],M=Object(n.useState)(void 0),R=Object(o.a)(M,2),Y=R[0],B=R[1],H=Object(n.useState)(!1),J=Object(o.a)(H,2),z=J[0],G=J[1],K=Object(n.useState)(null),U=Object(o.a)(K,2),Q=U[0],V=U[1],X=Object(n.useState)(!1),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useRef)(null);Object(n.useEffect)((function(){u.a.get("/react-pte-sst/data/sst-data.json").then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("active_question_index");e&&b(parseInt(e))}),[]);Object(n.useEffect)((function(){V(null),x(""),g(""),F(!1),localStorage.setItem("active_question_index",l)}),[l]),Object(n.useEffect)((function(){setTimeout((function(){var e=document.querySelector("body"),t=document.querySelectorAll("button");e.addEventListener("click",(function(){return G(!0)})),t.forEach((function(e){e.addEventListener("click",(function(){return G(!0)}))}))}),1e3)}),[]);var se=Object(n.useRef)(),ne=Object(n.useRef)();Object(n.useEffect)((function(){if(z){clearTimeout(se.current),clearInterval(ne.current),B(6),ne.current=setInterval((function(){B((function(e){return e-1}))}),1e3);try{se.current=setTimeout((function(){te.current.audio.current.play(),clearInterval(ne.current)}),6e3)}catch(e){console.log(e)}}}),[l]);return Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("h1",{className:"app-title",children:"PTE Summarize Spoken Text"}),(null===s||void 0===s?void 0:s.length)>0&&Object(j.jsxs)("div",{id:"pagination",className:"pagination",children:[Object(j.jsxs)("div",{className:"pagination-top",children:[Object(j.jsx)("button",{className:"btn-prev",disabled:0===l,onClick:function(){return l>0&&b((function(e){return e-1}))},children:"Previous"}),Object(j.jsx)("span",{className:"active-question-number",children:l+1}),Object(j.jsx)("button",{className:"btn-next",disabled:l===s.length-1,onClick:function(){return l<s.length&&b((function(e){return e+1}))},children:"Next"})]}),Object(j.jsx)("div",{className:"pagination-bottom",children:s.map((function(e,t){return Object(j.jsx)("button",{className:l===t?"active":"",onClick:function(){return b(t)},children:t+1},t)}))})]})]}),Object(j.jsx)("div",{className:"main-content",children:s.length>0&&Object(j.jsxs)("div",{className:"question",children:[Object(j.jsx)("div",{className:"description",children:"You will hear a short lecture. Write a summary for a fellow student who was not present at the lecture. You should write 50 - 70 words. You have 10 minutes to finish this task. Your response will be judged on the quality of your writing and on how well your response presents the key points presented in the lecture."}),Object(j.jsx)("div",{className:"audio-player",children:Object(j.jsx)(d.a,{ref:te,autoPlay:!1,autoPlayAfterSrcChange:!1,volume:!0,src:h.audio})}),Object(j.jsxs)("div",{className:"count-down ".concat(0===Y?"hidden":""),children:["The audio will play after ",Object(j.jsxs)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:[" ",Y||"x"," "]})," seconds"]}),Object(j.jsx)("textarea",{placeholder:"Enter text...",className:"text-note",value:O,onChange:function(e){var t=e.target.value,s=t.match(/\S+/g),n=s?s.length:0;q(n),T(t.length),x(t)}}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"word-user-input",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{style:{marginRight:"3rem"},children:["Words: ",Object(j.jsx)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:C})]}),Object(j.jsxs)("span",{children:["Chars: ",Object(j.jsx)("span",{style:{color:"#F8176D",fontWeight:"bold"},children:I})]})]}),Object(j.jsxs)("div",{className:"user-id-input",children:[Object(j.jsx)("label",{htmlFor:"user-id",children:"User ID: "}),Object(j.jsx)("input",{id:"user-id",type:"text",value:L,onChange:function(e){return P(e.target.value)}})]})]}),Object(j.jsxs)("button",{className:"btn-check-keywords",onClick:function(){ee(!0);var e,t=s[l].keywords.split(" "),n=O.split(" ").map((function(e){return e.replace(/[^\w\s]/gi,"").toLowerCase()})),c=[],a=Object(i.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;r=n.includes(r)?'<span class="matched-keyword green">'.concat(r,"</span>"):'<span class="unmatched-keyword red">'.concat(r,"</span>"),c.push(r)}}catch(d){a.e(d)}finally{a.f()}g(c.join(" ")),F(!0);var o=new FormData;o.append("question_id",h.id),o.append("question_cat",17),o.append("word_count",C),o.append("user_string",O),o.append("user_id",L),u.a.post("https://api.masterpte.com.au/api/webservices/practice_result_listening",o).then((function(e){V(e.data.result),ee(!1)})).catch((function(e){ee(!1),console.log(e)}))},disabled:""===O,children:[$?"Submitting":"Submit",$&&Object(j.jsx)("span",{className:"spinner"})]}),Object(j.jsxs)("div",{className:"results",children:[Object(j.jsxs)("div",{className:"score",children:["Content: ",$&&Object(j.jsx)("div",{className:"spinner-2"}),!$&&!Q&&"N/A",Q&&Object(j.jsxs)("span",{className:"score-number",style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.context).toFixed(2)," / 2"]})]}),Object(j.jsxs)("div",{className:"score",children:["Grammar: ",$&&Object(j.jsx)("div",{className:"spinner-2"}),!$&&!Q&&"N/A",Q&&Object(j.jsxs)("span",{className:"score-number",style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.grammar).toFixed(2)," / 2"]})]}),Object(j.jsxs)("div",{className:"score",children:["Spelling: ",$&&Object(j.jsx)("div",{className:"spinner-2"}),!$&&!Q&&"N/A",Q&&Object(j.jsxs)("span",{className:"score-number",style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.spelling).toFixed(2)," / 2"]})]}),Object(j.jsxs)("div",{className:"score",children:["Form: ",$&&Object(j.jsx)("div",{className:"spinner-2"}),!$&&!Q&&"N/A",Q&&Object(j.jsxs)("span",{className:"score-number",style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.form).toFixed(2)," / 2"]})]}),Object(j.jsxs)("div",{className:"score",children:["Marks: ",$&&Object(j.jsx)("div",{className:"spinner-2"}),!$&&!Q&&"N/A",Q&&Object(j.jsxs)("span",{className:"score-number",style:{color:"#F8176D",fontWeight:"bold"},children:[Number.parseFloat(Q.marks).toFixed(2)," / 90"]})]})]}),S&&Object(j.jsxs)("div",{className:"question-box",children:[Object(j.jsx)("div",{className:"question-transcripts ".concat(S?"keywords-showed":""),dangerouslySetInnerHTML:{__html:h.description}}),Object(j.jsxs)("div",{className:"question-keywords",children:[Object(j.jsx)("b",{children:"Keywords:"}),Object(j.jsx)("div",{className:"keywords-list",dangerouslySetInnerHTML:{__html:N}})]})]})]})})]})})},h=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,68)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),h()}},[[67,1,2]]]);
//# sourceMappingURL=main.c51e3310.chunk.js.map